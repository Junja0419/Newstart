{
    "hosting": {
        "public": "build",
        "ignore": ["firebase.json", "**/.*", "**/node_modules/**"],
        "rewrites": [
            {
                "source": "/api/**",
                "run": {
                    "serviceId": "backend",
                    "region": "asia-northeast3"
                }
            },
            {
                "source": "/oauth2/authorization/{*path}",
                "run": {
                    "serviceId": "backend",
                    "region": "asia-northeast3"
                }
            },
            {
                "source": "/login/oauth2/code/**",
                "run": {
                    "serviceId": "backend",
                    "region": "asia-northeast3"
                }
            },
            {
                "source": "/",
                "run": {
                    "serviceId": "frontend",
                    "region": "asia-northeast3"
                }
            }
        ],
        "redirects": [
            {
                "source": "/oauth2/authorization/{*path}",
                "destination": "/login/oauth2/code/{path}",
                "type": 301
            }
        ]
    }
}
